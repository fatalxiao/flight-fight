<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- 设置文档字符编码为UTF-8，支持中文显示 -->
    <meta charset="UTF-8">
    <!-- 设置视口，确保在移动设备上正确显示 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 页面标题 -->
    <title>闪电战机 - 垂直射击游戏</title>
    <!-- 引入外部CSS样式文件 -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>
        
        <!-- 开始界面 -->
        <div id="startScreen" class="screen">
            <h1>闪电战机</h1>
            <p>垂直射击游戏</p>
            
            <!-- 按钮容器 -->
            <div class="button-container">
                <button id="startBtn">开始游戏</button>
                <button id="leaderboardBtn">排行榜</button>
            </div>
            
            <!-- 控制说明 -->
            <div class="controls">
                <h3>控制说明</h3>
                <p><strong>键盘控制：</strong></p>
                <p>WASD 或 方向键：移动</p>
                <p>空格键：射击</p>
                <p>R键：特殊攻击</p>
                <p>ESC：暂停</p>
                <br>
                <p><strong>PS5手柄控制：</strong></p>
                <p>左摇杆：移动</p>
                <p>右扳机(R2)：特殊攻击</p>
                <p>A键：确认/开始</p>
                <p>B键：返回/取消</p>
                <p>X/Y键：显示排行榜</p>
                <br>
                <p><strong>道具说明：</strong></p>
                <p>⭐ 黄色星星：火力升级</p>
                <p>💖 粉色心形：恢复生命</p>
            </div>
        </div>
        
        <!-- 游戏结束界面 -->
        <div id="gameOver" class="screen hidden">
            <h2>游戏结束</h2>
            <p>最终分数: <span id="finalScore">0</span></p>
            <button id="restartBtn">重新开始</button>
            <button onclick="showLeaderboard()">查看排行榜</button>
        </div>
        
        <!-- 关卡完成界面 -->
        <div id="levelComplete" class="screen hidden">
            <h2>关卡完成！</h2>
            <p>当前分数: <span id="currentScore">0</span></p>
            <button id="nextLevelBtn">下一关</button>
        </div>
        
        <!-- 游戏通关界面 -->
        <div id="gameComplete" class="screen hidden">
            <h2>🎉 恭喜通关！ 🎉</h2>
            <p>最终分数: <span id="finalScoreComplete">0</span></p>
            <p>你成功完成了所有关卡！</p>
            <button id="gameCompleteRestartBtn">重新开始</button>
            <button onclick="showLeaderboard()">查看排行榜</button>
        </div>
        
        <!-- 排行榜界面 -->
        <div id="leaderboard" class="screen hidden">
            <h2>🏆 排行榜 🏆</h2>
            <div id="leaderboardList" class="leaderboard-list">
                <!-- 排行榜内容将在这里动态生成 -->
            </div>
            <button onclick="hideLeaderboard()">返回</button>
        </div>
        
        <!-- 新纪录对话框 -->
        <div id="newRecord" class="dialog hidden">
            <div class="dialog-content">
                <h2>🎉 新纪录！ 🎉</h2>
                <p>恭喜你创造了新的高分记录！</p>
                <p>分数: <span id="newRecordScore">0</span></p>
                <p>排名: 第<span id="newRecordRank">1</span>名</p>
                <button onclick="hideNewRecordDialog()">确定</button>
            </div>
        </div>
        
        <!-- 最终分数对话框 -->
        <div id="finalScoreDialog" class="dialog hidden">
            <div class="dialog-content">
                <h2>游戏结束</h2>
                <p>最终分数: <span id="finalScoreValue">0</span></p>
                <p>排名: 第<span id="finalScoreRank">1</span>名</p>
                <button onclick="hideFinalScoreDialog()">确定</button>
                <button onclick="showLeaderboard()">查看排行榜</button>
            </div>
        </div>
        
        <!-- 关卡信息显示 -->
        <div id="levelInfo" class="level-info hidden">
            <h3>第<span id="levelNumber">1</span>关</h3>
            <p id="levelName">新手训练</p>
        </div>
        
        <!-- 游戏UI - 左上角 -->
        <div id="gameUILeft" class="game-ui-left">
            <div class="score">
                <span class="label">分数:</span>
                <span class="value" id="score">0</span>
            </div>
            <div class="level">
                <span class="label">关卡:</span>
                <span class="value" id="level">1</span>
            </div>
            <div class="lives">
                <span class="label">生命:</span>
                <span class="value" id="lives">❤️❤️❤️❤️❤️❤️❤️❤️</span>
            </div>
        </div>
        
        <!-- 游戏UI - 右上角 -->
        <div id="gameUIRight" class="game-ui-right">
            <div class="wave">
                <span class="label">波次:</span>
                <span class="value" id="wave">1</span>
            </div>
            <div class="power">
                <span class="label">火力:</span>
                <span class="value" id="power">⭐</span>
            </div>
        </div>
    </div>
    
    <!-- 脚本引用 -->
    <script src="leaderboard.js"></script>
    <script src="enemy.js"></script>
    <script src="collision.js"></script>
    <script src="render.js"></script>
    <script src="game.js"></script>
</body>
</html> 